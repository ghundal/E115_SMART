============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.3.5, pluggy-1.5.0
rootdir: /home/gurpreet/Desktop/Spring2025/CSCI115/Project/E115_SMART
configfile: pytest.ini
plugins: cov-6.1.1, asyncio-0.26.0, anyio-4.9.0, langsmith-0.3.30
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 6 items

tests/test_llm_rag_utils.py::TestLlmRagUtils::test_create_chat_session PASSED [ 16%]
tests/test_llm_rag_utils.py::TestLlmRagUtils::test_generate_chat_response ERROR [ 33%]
tests/test_llm_rag_utils.py::TestLlmRagUtils::test_generate_chat_response_empty_content ERROR [ 50%]
tests/test_llm_rag_utils.py::TestLlmRagUtils::test_generate_chat_response_error PASSED [ 66%]
tests/test_llm_rag_utils.py::TestLlmRagUtils::test_rebuild_chat_session PASSED [ 83%]
tests/test_llm_rag_utils.py::TestLlmRagUtils::test_rebuild_chat_session_with_invalid_messages PASSED [100%]

==================================== ERRORS ====================================
________ ERROR at setup of TestLlmRagUtils.test_generate_chat_response _________

self = <tests.test_llm_rag_utils.TestLlmRagUtils object at 0x753a864a40e0>

    @pytest.fixture
    def mock_query_ollama(self):
        """Create a mock for the query_ollama_with_hybrid_search_multilingual function"""
        # Patch the import within the generate_chat_response function
>       with patch('rag_pipeline.ollama.query_ollama_with_hybrid_search_multilingual') as mock:

tests/test_llm_rag_utils.py:23:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

name = 'rag_pipeline', import_ = <function _gcd_import at 0x753c0330c0e0>

>   ???
E   ModuleNotFoundError: No module named 'rag_pipeline'

<frozen importlib._bootstrap>:1324: ModuleNotFoundError
_ ERROR at setup of TestLlmRagUtils.test_generate_chat_response_empty_content __

self = <tests.test_llm_rag_utils.TestLlmRagUtils object at 0x753a864a41d0>

    @pytest.fixture
    def mock_query_ollama(self):
        """Create a mock for the query_ollama_with_hybrid_search_multilingual function"""
        # Patch the import within the generate_chat_response function
>       with patch('rag_pipeline.ollama.query_ollama_with_hybrid_search_multilingual') as mock:

tests/test_llm_rag_utils.py:23:
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
/usr/lib/python3.12/unittest/mock.py:1442: in __enter__
    self.target = self.getter()
/usr/lib/python3.12/pkgutil.py:513: in resolve_name
    mod = importlib.import_module(modname)
/usr/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

name = 'rag_pipeline', import_ = <function _gcd_import at 0x753c0330c0e0>

>   ???
E   ModuleNotFoundError: No module named 'rag_pipeline'

<frozen importlib._bootstrap>:1324: ModuleNotFoundError
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.3-final-0 ________________

Coverage HTML written to dir htmlcov
=========================== short test summary info ============================
ERROR tests/test_llm_rag_utils.py::TestLlmRagUtils::test_generate_chat_response
ERROR tests/test_llm_rag_utils.py::TestLlmRagUtils::test_generate_chat_response_empty_content
========================= 4 passed, 2 errors in 4.21s ==========================
